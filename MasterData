<div class="page-header">
  <h1 class="page-title">Master Data & Configuration</h1>
  <p class="page-subtitle">Manage system settings, holidays, users, and master data</p>
</div>

<!-- Tab Navigation for F2 Configuration -->
<div style="margin-bottom: 1.5rem; border-bottom: 2px solid #e8ebed;">
  <div style="display: flex; gap: 0.5rem;">
    <button onclick="showConfigTab('basic')" id="tab-basic" class="config-tab active">
      <i class="fas fa-database"></i> Basic Data
    </button>
    <button onclick="showConfigTab('holidays')" id="tab-holidays" class="config-tab">
      <i class="fas fa-calendar-alt"></i> Holidays
    </button>
    <button onclick="showConfigTab('weekend')" id="tab-weekend" class="config-tab">
      <i class="fas fa-calendar-week"></i> Weekend Config
    </button>
    <button onclick="showConfigTab('signatory')" id="tab-signatory" class="config-tab">
      <i class="fas fa-user-tie"></i> Signatory
    </button>
  </div>
</div>

<style>
  .config-tab {
    padding: 0.75rem 1.5rem;
    border: none;
    background: transparent;
    color: #697386;
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
  }

  .config-tab:hover {
    color: #4f46e5;
  }

  .config-tab.active {
    color: #4f46e5;
    border-bottom-color: #4f46e5;
  }

  .config-section {
    display: none;
  }

  .config-section.active {
    display: block;
  }
</style>

<!-- Tab 1: Basic Data (Offices & Positions) -->
<div id="section-basic" class="config-section active">
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
    <div class="card">
      <div class="card-header">
        <div class="card-title">Offices</div>
        <button onclick="addMasterDataItem('office')" class="btn btn-primary" style="padding: 0.5rem 1rem;">
          <i class="fas fa-plus"></i> Add
        </button>
      </div>
      <div class="card-body">
        <div id="officesList">
          <div style="text-align: center; padding: 2rem; color: #697386;">Loading...</div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <div class="card-title">Positions</div>
        <button onclick="addMasterDataItem('position')" class="btn btn-primary" style="padding: 0.5rem 1rem;">
          <i class="fas fa-plus"></i> Add
        </button>
      </div>
      <div class="card-body">
        <div id="positionsList">
          <div style="text-align: center; padding: 2rem; color: #697386;">Loading...</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Tab 2: Holidays -->
<div id="section-holidays" class="config-section">
  <div class="card">
    <div class="card-header">
      <div class="card-title">Holiday Calendar</div>
      <button onclick="addHoliday()" class="btn btn-primary">
        <i class="fas fa-plus"></i> Add Holiday
      </button>
    </div>
    <div class="card-body">
      <p style="color: #697386; margin-bottom: 1.5rem;">
        Define official holidays for COC accrual calculations. Holidays use a 1.5x accrual rate.
      </p>
      <div id="holidaysList">
        <div style="text-align: center; padding: 2rem; color: #697386;">Loading...</div>
      </div>
    </div>
  </div>
</div>

<!-- Tab 3: Weekend Configuration -->
<div id="section-weekend" class="config-section">
  <div class="card">
    <div class="card-header">
      <div class="card-title">Weekend Days Configuration</div>
    </div>
    <div class="card-body">
      <p style="color: #697386; margin-bottom: 1.5rem;">
        Select which days of the week are considered "weekends" for COC accrual. Weekends use a 1.5x accrual rate.
      </p>

      <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem;" id="weekendDaysCheckboxes">
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox" value="1" class="weekend-checkbox"> Monday
          </label>
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox" value="2" class="weekend-checkbox"> Tuesday
          </label>
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox" value="3" class="weekend-checkbox"> Wednesday
          </label>
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox" value="4" class="weekend-checkbox"> Thursday
          </label>
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox" value="5" class="weekend-checkbox"> Friday
          </label>
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox" value="6" class="weekend-checkbox"> Saturday
          </label>
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox" value="0" class="weekend-checkbox"> Sunday
          </label>
        </div>
      </div>

      <div style="text-align: right;">
        <button onclick="saveWeekendConfig()" class="btn btn-primary">
          <i class="fas fa-save"></i> Save Weekend Configuration
        </button>
      </div>

      <div style="background: #e6f3ff; border: 1px solid #bfdbfe; border-radius: 8px; padding: 1rem; margin-top: 1.5rem;">
        <p style="font-size: 0.875rem; color: #1e40af; margin: 0;">
          <i class="fas fa-info-circle"></i> <strong>Current Weekend Days:</strong> <span id="currentWeekendDays">Loading...</span>
        </p>
      </div>
    </div>
  </div>
</div>

<!-- Tab 4: Signatory Configuration -->
<div id="section-signatory" class="config-section">
  <div class="card">
    <div class="card-header">
      <div class="card-title">Certificate Signatory Configuration</div>
    </div>
    <div class="card-body">
      <p style="color: #697386; margin-bottom: 1.5rem;">
        Configure the signatory information that will appear on COC certificates.
      </p>

      <form id="signatoryForm" onsubmit="return saveSignatoryConfig(event)">
        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
          <div style="margin-bottom: 1.5rem;">
            <label class="form-label">Signatory Name <span style="color: #ef4444;">*</span></label>
            <input type="text" id="signatoryName" name="signatoryName" required class="form-input"
                   placeholder="Enter full name of signatory" style="max-width: 500px; text-transform: uppercase;"
                   oninput="this.value = this.value.toUpperCase()">
            <p style="color: #697386; font-size: 0.875rem; margin-top: 0.5rem;">
              <i class="fas fa-info-circle"></i> Full name as it should appear on the certificate
            </p>
          </div>

          <div style="margin-bottom: 1rem;">
            <label class="form-label">Position/Title <span style="color: #ef4444;">*</span></label>
            <textarea id="signatoryPosition" name="signatoryPosition" required class="form-input"
                      rows="4" placeholder="Enter position/title (up to 4 lines)"
                      style="max-width: 500px; resize: vertical; font-family: inherit;"></textarea>
            <p style="color: #697386; font-size: 0.875rem; margin-top: 0.5rem;">
              <i class="fas fa-info-circle"></i> Position can span up to 4 lines for long titles
            </p>
          </div>
        </div>

        <div style="text-align: right;">
          <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i> Save Signatory Configuration
          </button>
        </div>
      </form>

      <div style="background: #e6f3ff; border: 1px solid #bfdbfe; border-radius: 8px; padding: 1rem; margin-top: 1.5rem;">
        <p style="font-size: 0.875rem; color: #1e40af; margin: 0 0 0.5rem 0;">
          <i class="fas fa-info-circle"></i> <strong>Current Signatory:</strong>
        </p>
        <div id="currentSignatory" style="font-size: 0.875rem; color: #1e40af; margin-left: 1.5rem;">
          <div><strong>Name:</strong> <span id="currentSignatoryName">Not set</span></div>
          <div style="margin-top: 0.5rem;"><strong>Position:</strong></div>
          <div id="currentSignatoryPosition" style="white-space: pre-line; margin-left: 1rem;">Not set</div>
        </div>
      </div>
    </div>
  </div>
</div>
